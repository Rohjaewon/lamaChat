(this.webpackJsonplamachat=this.webpackJsonplamachat||[]).push([[0],{129:function(e,a){},132:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(8),o=t.n(c),l=(t(89),t(40)),m=t(10),s=t(19),i=t(178),u=t(177),p=t(133),g=t(172),d=t(174),f=t(169),E=Object(f.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://source.unsplash.com/1600x900/?lama)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),h=function(){var e=Object(n.useState)(""),a=Object(s.a)(e,2),t=a[0],c=a[1],o=Object(n.useState)(""),m=Object(s.a)(o,2),f=m[0],h=m[1],b=E();return r.a.createElement(g.a,{container:!0,component:"main",className:b.root},r.a.createElement(g.a,{container:!0,spacing:5},r.a.createElement(g.a,{item:!0,xs:12,sm:12,md:7,lg:7,xl:7,className:b.image}),r.a.createElement(g.a,{item:!0,xs:12,sm:12,md:5,lg:5,xl:5,component:p.a,elevation:6,square:!0},r.a.createElement("div",{className:b.paper},r.a.createElement(d.a,{component:"h1",variant:"h5"},"LamaChat"),r.a.createElement("form",{className:b.form,noValidate:!0},r.a.createElement(u.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",autoComplete:"name",autoFocus:!0,onChange:function(e){return c(e.target.value)}}),r.a.createElement(u.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"room",label:"room",type:"room",id:"room",autoComplete:"current-password",onChange:function(e){return h(e.target.value)}}),r.a.createElement(l.b,{onClick:function(e){return t&&f?null:e.preventDefault()},to:"/chat?name=".concat(t,"&room=").concat(f)},r.a.createElement(i.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:b.submit},"Sign In")))))))},b=t(74),v=t(71),j=t(72),O=t.n(j),N=t(73),k=t.n(N),x=function(e){var a=e.message,t=a.text,n=a.user,c=!1,o=e.name.trim().toLowerCase();return n===o&&(c=!0),c?r.a.createElement("div",null,r.a.createElement("p",null,o),r.a.createElement("p",null,t)):r.a.createElement("div",null,r.a.createElement("p",null,t),r.a.createElement("p",null,n))},y=function(e){var a=e.messages,t=e.name;return r.a.createElement("div",{className:"messages"},a.map((function(e,a){return r.a.createElement("div",{key:a},r.a.createElement(x,{message:e,name:t}))})))};var C,S=function(e){var a=e.room;return r.a.createElement("div",{className:"roomInfo"},r.a.createElement("div",{className:"leftInfo"},a),r.a.createElement("div",{className:"rightInfo"},r.a.createElement("a",{href:"/"},"close")))},I=function(e){var a=e.message,t=e.setMessage,n=e.sendMessage;return r.a.createElement("form",{className:"inputForm"},r.a.createElement("input",{className:"input",type:"text",placeholder:"\uba54\uc138\uc9c0\ub97c \uc785\ub825\ud558\uc138\uc694",value:a,onChange:function(e){return t(e.target.value)},onKeyPress:function(e){return"Enter"===e.key?n(e):null}}),r.a.createElement("button",{onClick:function(e){return n(e)}},"send"))},M=t(175),w=t(176),B=Object(f.a)((function(e){return{root:{margin:0,padding:0,height:"100vh",backgroundImage:"url(https://source.unsplash.com/1600x900/?peru,lama)"},appBar:{padding:e.spacing(2)},paper:Object(v.a)({height:"50vh",marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(6),marginBottom:e.spacing(6),padding:e.spacing(3)}),button:{}}})),D=function(e){var a=e.location,t=Object(n.useState)(""),c=Object(s.a)(t,2),o=c[0],l=c[1],m=Object(n.useState)(""),u=Object(s.a)(m,2),f=u[0],E=u[1],h=Object(n.useState)(""),v=Object(s.a)(h,2),j=v[0],N=v[1],x=Object(n.useState)([]),D=Object(s.a)(x,2),W=D[0],q=D[1],L=Object(n.useState)(""),T=Object(s.a)(L,2),F=T[0],J=T[1],P=B();Object(n.useEffect)((function(){var e=O.a.parse(a.search),t=e.name,n=e.room;C=k()("localhost:5000"),l(t),E(n),console.log(t,n),C.emit("join",{name:t,room:n},(function(e){e&&alert(e)}))}),["localhost:5000",a.search]),Object(n.useEffect)((function(){C.on("message",(function(e){q([].concat(Object(b.a)(W),[e]))})),C.on("roomData",(function(e){var a=e.users;J(a)}))}),[W]);return console.log(j,W),console.log(F,"users"),r.a.createElement(g.a,{container:!0,justify:"center",alignContent:"center",className:P.root},r.a.createElement(g.a,{item:!0,component:M.a,className:P.appBar,color:"default"},r.a.createElement(w.a,null,r.a.createElement(d.a,{variant:"h6",color:"inherit",noWrap:!0},"LamaChat"),r.a.createElement(i.a,{color:"inherit",href:"/",className:P.button},"close"))),r.a.createElement(g.a,{item:!0,xs:10,sm:10,md:8,lg:8,xl:8,component:p.a,className:P.paper},r.a.createElement("div",{className:"container"},r.a.createElement(S,{room:f}),r.a.createElement(y,{messages:W,name:o}),r.a.createElement(I,{message:j,setMessage:N,sendMessage:function(e){e.preventDefault(),j&&C.emit("sendMessage",j,N(""))}}))))},W=function(){return r.a.createElement(l.a,null,r.a.createElement(m.a,{path:"/",exact:!0,component:h}),r.a.createElement(m.a,{path:"/chat",component:D}))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(W,null)),document.getElementById("root"))},84:function(e,a,t){e.exports=t(132)},89:function(e,a,t){}},[[84,1,2]]]);
//# sourceMappingURL=main.990ab31a.chunk.js.map